{"remainingRequest":"/Users/jacobreburn/Development/govreader/front/node_modules/babel-loader/lib/index.js!/Users/jacobreburn/Development/govreader/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jacobreburn/Development/govreader/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jacobreburn/Development/govreader/front/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jacobreburn/Development/govreader/front/src/App.vue","mtime":1589454828746},{"path":"/Users/jacobreburn/Development/govreader/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jacobreburn/Development/govreader/front/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/jacobreburn/Development/govreader/front/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jacobreburn/Development/govreader/front/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBEZXBhcnRtZW50IGZyb20gIi4vRGVwYXJ0bWVudC52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgY29tcG9uZW50czogewogICAgJ2RlcGFydG1lbnQnOiBEZXBhcnRtZW50CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZmVlZDogW10sCiAgICAgIGFjdGl2ZURlcGFydG1lbnQ6IHt9CiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdmFyIFJTU19VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDo4MDkwL2ZlZWQnOwogICAgZmV0Y2goUlNTX1VSTCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgcmV0dXJuIF90aGlzLmZlZWQgPSByZXNwb25zZS5qc29uKCk7CiAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHJldHVybiBfdGhpcy5mZWVkID0gZGF0YTsKICAgIH0pOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZlZWRVcGRhdGVkOiBmdW5jdGlvbiBmZWVkVXBkYXRlZCgpIHsKICAgICAgaWYgKCF0aGlzLmZlZWQubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHZhciBkYXRlcyA9IFtdOwogICAgICB0aGlzLmZlZWQuZm9yRWFjaChmdW5jdGlvbiAoZikgewogICAgICAgIGRhdGVzLnB1c2goZi51cGRhdGVkKTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKGRhdGVzKTsKICAgICAgcmV0dXJuIHRoaXMuZmVlZCA/IHRoaXMuZmVlZFswXS5mZWVkLnVwZGF0ZWQgOiBudWxsOwogICAgfSwKICAgIGFydGljbGVzOiBmdW5jdGlvbiBhcnRpY2xlcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAoIXRoaXMuZmVlZC5sZW5ndGgpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQoKICAgICAgdmFyIGFydGljbGVzID0gW107CiAgICAgIHRoaXMuZmVlZC5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7CiAgICAgICAgZi5mZWVkLmVudHJ5LmZvckVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGVbJ2RlcGFydG1lbnQnXSA9IGYuZGVwYXJ0bWVudDsKICAgICAgICAgIGFydGljbGVzLnB1c2goZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgaWYgKHRoaXMuYWN0aXZlRGVwYXJ0bWVudC5pZCkgewogICAgICAgIHJldHVybiBhcnRpY2xlcy5maWx0ZXIoZnVuY3Rpb24gKGFydGljbGUpIHsKICAgICAgICAgIHJldHVybiBhcnRpY2xlLmRlcGFydG1lbnQgPT09IF90aGlzMi5hY3RpdmVEZXBhcnRtZW50LmlkOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBhcnRpY2xlczsKICAgICAgfQogICAgfSwKICAgIGRlcGFydG1lbnRzOiBmdW5jdGlvbiBkZXBhcnRtZW50cygpIHsKICAgICAgaWYgKCF0aGlzLmZlZWQubGVuZ3RoKSB7CiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0KCiAgICAgIHZhciBkZXBhcnRtZW50cyA9IFtdOwogICAgICB0aGlzLmZlZWQuZm9yRWFjaChmdW5jdGlvbiAoZikgewogICAgICAgIGRlcGFydG1lbnRzLnB1c2goewogICAgICAgICAgaWQ6IGYuZGVwYXJ0bWVudCwKICAgICAgICAgIG5hbWU6ICdOYW1lJywKICAgICAgICAgIGNvbG91cjogJyNmZjAwMDAnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gZGVwYXJ0bWVudHM7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRBY3RpdmVEZXBhcnRtZW50OiBmdW5jdGlvbiBzZXRBY3RpdmVEZXBhcnRtZW50KGRlcHQpIHsKICAgICAgZGVwdC5pZCA9PT0gdGhpcy5hY3RpdmVEZXBhcnRtZW50LmlkID8gdGhpcy5hY3RpdmVEZXBhcnRtZW50ID0ge30gOiB0aGlzLmFjdGl2ZURlcGFydG1lbnQgPSBkZXB0OwogICAgfQogIH0KfTs="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA,OAAA,UAAA,MAAA,kBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,KADA;AAGA,EAAA,UAAA,EAAA;AACA,kBAAA;AADA,GAHA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,gBAAA,EAAA;AAFA,KAAA;AAIA,GAZA;AAcA,EAAA,OAdA,qBAcA;AAAA;;AAEA,QAAA,OAAA,GAAA,4BAAA;AAEA,IAAA,KAAA,CAAA,OAAA,CAAA,CACA,IADA,CACA,UAAA,QAAA;AAAA,aAAA,KAAA,CAAA,IAAA,GAAA,QAAA,CAAA,IAAA,EAAA;AAAA,KADA,EAEA,IAFA,CAEA,UAAA,IAAA;AAAA,aAAA,KAAA,CAAA,IAAA,GAAA,IAAA;AAAA,KAFA;AAGA,GArBA;AAuBA,EAAA,QAAA,EAAA;AACA,IAAA,WAAA,EAAA,uBAAA;AAEA,UAAA,CAAA,KAAA,IAAA,CAAA,MAAA,EAAA;AACA,eAAA,IAAA;AACA;;AAEA,UAAA,KAAA,GAAA,EAAA;AAEA,WAAA,IAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,CAAA,CAAA,CAAA,OAAA;AACA,OAFA;AAIA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AAEA,aAAA,KAAA,IAAA,GAAA,KAAA,IAAA,CAAA,CAAA,EAAA,IAAA,CAAA,OAAA,GAAA,IAAA;AACA,KAhBA;AAkBA,IAAA,QAAA,EAAA,oBAAA;AAAA;;AAEA,UAAA,CAAA,KAAA,IAAA,CAAA,MAAA,EAAA;AACA,eAAA,IAAA;AACA;;AAEA,UAAA,QAAA,GAAA,EAAA;AAEA,WAAA,IAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,CAAA,CAAA,IAAA,CAAA,KAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,UAAA,CAAA,CAAA,YAAA,CAAA,GAAA,CAAA,CAAA,UAAA;AACA,UAAA,QAAA,CAAA,IAAA,CAAA,CAAA;AACA,SAHA;AAIA,OALA;;AAOA,UAAA,KAAA,gBAAA,CAAA,EAAA,EAAA;AACA,eAAA,QAAA,CAAA,MAAA,CAAA,UAAA,OAAA;AAAA,iBAAA,OAAA,CAAA,UAAA,KAAA,MAAA,CAAA,gBAAA,CAAA,EAAA;AAAA,SAAA,CAAA;AACA,OAFA,MAEA;AACA,eAAA,QAAA;AACA;AAEA,KAvCA;AAyCA,IAAA,WAAA,EAAA,uBAAA;AAEA,UAAA,CAAA,KAAA,IAAA,CAAA,MAAA,EAAA;AACA,eAAA,IAAA;AACA;;AAEA,UAAA,WAAA,GAAA,EAAA;AAEA,WAAA,IAAA,CAAA,OAAA,CAAA,UAAA,CAAA,EAAA;AACA,QAAA,WAAA,CAAA,IAAA,CACA;AACA,UAAA,EAAA,EAAA,CAAA,CAAA,UADA;AAEA,UAAA,IAAA,EAAA,MAFA;AAGA,UAAA,MAAA,EAAA;AAHA,SADA;AAOA,OARA;AAUA,aAAA,WAAA;AACA;AA5DA,GAvBA;AAsFA,EAAA,OAAA,EAAA;AACA,IAAA,mBADA,+BACA,IADA,EACA;AACA,MAAA,IAAA,CAAA,EAAA,KAAA,KAAA,gBAAA,CAAA,EAAA,GAAA,KAAA,gBAAA,GAAA,EAAA,GAAA,KAAA,gBAAA,GAAA,IAAA;AACA;AAHA;AAtFA,CAAA","sourcesContent":["<template>\n  <div id=\"app\">\n    <header class=\"gr-header\">\n      <div>\n        <h4 class=\"h h4 nmb\">GovReader</h4>\n        <p class=\"p nmb\">An ATOM feed reader for UK Government press releases</p>\n      </div>\n      <p class=\"p nmb\">{{feedUpdated}}</p>\n    </header>\n\n    <div class=\"gr-frame\">\n      <div class=\"gr-departments\">\n        <h4 class=\"h h4\">Departments</h4>\n        <div class=\"gr-departments-flex\">\n\n          <department\n            v-for=\"d in departments\"\n            :key=\"d.id\"\n            :name=\"d.name\"\n            :colour=\"d.colour\"\n            :currentActive=\"activeDepartment\"\n            @activate=\"setActiveDepartment\">\n          </department>\n\n        </div>\n      </div>\n\n      <div class=\"gr-feed\">\n        <div class=\"gr-feed-articles\">\n          <div>\n            <h3 class=\"h h3\">Today</h3>\n            <div class=\"gr-feed-articles-flex\">\n\n              <div class=\"gr-feed-articles-flex-item\" v-for=\"(a, i) in articles\" :key=\"a.id  + '-' + i\">\n                <div class=\"gr-article gr-card bg-light-grey\">\n                  <div class=\"gr-article-body\">\n                    <h6 class=\"h h6\">{{a.department}}</h6>\n                    <h5 class=\"h h5 mod-article-h\">{{a.title}}</h5>\n                    <p class=\"p\">{{a.summary['#text']}}</p>\n                    <a :href=\"a.link['-href']\" class=\"button mod-co w-button\" target=\"_blank\">Read the story</a>\n                  </div>\n                  <div class=\"gr-article-footer\">\n                    <div class=\"gr-article-footer-date\">Updated: {{a.updated}}</div>\n                  </div>\n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\n    import Department from \"./Department.vue\";\n\n    export default {\n        name: 'App',\n\n        components: {\n            'department' : Department\n        },\n\n        data(){\n            return {\n                feed: [],\n                activeDepartment: {}\n            }\n        },\n\n        mounted() {\n\n            const RSS_URL = 'http://localhost:8090/feed';\n\n            fetch( RSS_URL )\n                .then( response => this.feed = response.json() )\n                .then( data => this.feed = data )\n        },\n\n        computed: {\n            feedUpdated: function(){\n\n                if ( !this.feed.length ) {\n                    return null\n                }\n\n                let dates = []\n\n                this.feed.forEach( (f) => {\n                    dates.push(f.updated)\n                } );\n                \n                console.log(dates)\n\n                return this.feed ? this.feed[0].feed.updated : null\n            },\n\n            articles: function(){\n\n                if ( !this.feed.length ) {\n                    return null\n                }\n\n                let articles = [];\n\n                this.feed.forEach( (f) => {\n                    f.feed.entry.forEach( (e) => {\n                        e['department'] = f.department;\n                        articles.push(e)\n                    } )\n                } );\n\n                if ( this.activeDepartment.id ) {\n                    return articles.filter( article => article.department === this.activeDepartment.id )\n                } else {\n                    return articles\n                }\n\n            },\n\n            departments: function() {\n\n                if ( !this.feed.length ) {\n                    return null\n                }\n\n                let departments = [];\n\n                this.feed.forEach( (f) => {\n                    departments.push(\n                        {\n                            id : f.department,\n                            name : 'Name',\n                            colour: '#ff0000',\n                        }\n                    )\n                } );\n\n                return departments\n            }\n        },\n\n        methods: {\n            setActiveDepartment(dept){\n                dept.id === this.activeDepartment.id ? this.activeDepartment = {} : this.activeDepartment = dept\n            }\n        }\n    }\n\n</script>\n\n<style lang=\"scss\">\n\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: 'Open Sans', sans-serif;\n  }\n\n  .h {\n    margin-top: 0;\n    margin-bottom: 20px;\n    line-height: 1.25em;\n    text-transform: none;\n\n    &.nmb { margin-bottom: 0; }\n    &.mod-article-h { min-height: 40px; }\n    &.mod-article-h { min-height: 40px; }\n  }\n\n  .h.h1 { font-size: 34px; }\n  .h.h2 { font-size: 28px; }\n  .h.h3 { font-size: 22px; }\n  .h.h4 { font-size: 18px; }\n  .h.h5 { font-size: 16px; }\n\n  .h.h6 {\n    font-size: 14px;\n    font-weight: 400;\n  }\n\n  .p {\n    margin-bottom: 20px;\n    font-size: 12px;\n    font-weight: 400;\n\n    &.nmb { margin-bottom: 0px; }\n  }\n\n  .button {\n    padding: 0px 0px 5px;\n    border-bottom: 2px solid #222;\n    background-color: transparent;\n    text-decoration: none;\n    color: #222;\n    font-size: 12px;\n    line-height: 1em;\n    font-weight: 600;\n\n    &:hover {\n      color: #444\n    }\n  }\n\n  .gr-header {\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    padding: 30px 50px;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n    -ms-flex-pack: justify;\n    justify-content: space-between;\n    -webkit-box-align: center;\n    -webkit-align-items: center;\n    -ms-flex-align: center;\n    align-items: center;\n  }\n\n  .gr-frame {\n    padding: 0 50px;\n  }\n\n  .gr-departments {\n    height: 325px;\n    padding-top: 30px;\n    padding-bottom: 30px;\n    border-top: 2px solid #d8d8d8;\n    overflow: hidden;\n    -webkit-transition: all 300ms cubic-bezier(.23, 1, .32, 1);\n    transition: all 300ms cubic-bezier(.23, 1, .32, 1);\n\n    .gr-departments-flex {\n      display: -webkit-box;\n      display: -webkit-flex;\n      display: -ms-flexbox;\n      display: flex;\n      overflow: scroll;\n      margin-top: -5px;\n      margin-right: -15px;\n      margin-left: -15px;\n      padding-top: 5px;\n    }\n\n    &.mod-hidden {\n      height: 0;\n      padding: 0;\n    }\n  }\n\n  .gr-card {\n    padding: 20px;\n\n    &.bg-light-grey { background-color: #eee; }\n    &.bg-dark-grey { background-color: #666; }\n  }\n\n  .gr-feed {\n    padding-top: 50px;\n    padding-bottom: 30px;\n    border-top: 2px solid #d8d8d8;\n\n    .gr-feed-articles {\n      -webkit-box-flex: 1;\n      -webkit-flex: auto;\n      -ms-flex: auto;\n      flex: auto;\n\n      .gr-feed-articles-flex {\n        display: -webkit-box;\n        display: -webkit-flex;\n        display: -ms-flexbox;\n        display: flex;\n        margin: -20px -15px 60px;\n        -webkit-flex-wrap: wrap;\n        -ms-flex-wrap: wrap;\n        flex-wrap: wrap;\n        -webkit-box-align: stretch;\n        -webkit-align-items: stretch;\n        -ms-flex-align: stretch;\n        align-items: stretch;\n\n        .gr-feed-articles-flex-item {\n          width: 33%;\n          margin-top: 20px;\n          margin-bottom: 20px;\n          padding-right: 15px;\n          padding-left: 15px;\n          -webkit-box-flex: 0;\n          -webkit-flex: 0 auto;\n          -ms-flex: 0 auto;\n          flex: 0 auto;\n        }\n      }\n    }\n  }\n\n  .gr-article {\n    height: 100%;\n    max-width: 660px;\n    -webkit-box-flex: 0;\n    -webkit-flex: 0 31%;\n    -ms-flex: 0 31%;\n    flex: 0 31%;\n    border-left: 8px solid #222;\n    display: -webkit-box;\n    display: -webkit-flex;\n    display: -ms-flexbox;\n    display: flex;\n    -webkit-box-orient: vertical;\n    -webkit-box-direction: normal;\n    -webkit-flex-direction: column;\n    -ms-flex-direction: column;\n    flex-direction: column;\n    -webkit-box-pack: justify;\n    -webkit-justify-content: space-between;\n    -ms-flex-pack: justify;\n    justify-content: space-between;\n\n    .gr-article-body {\n      padding-bottom: 40px;\n    }\n\n    .gr-article-footer {\n      margin-right: -20px;\n      margin-bottom: -5px;\n      margin-left: -20px;\n      padding-top: 15px;\n      padding-right: 20px;\n      padding-left: 20px;\n      -webkit-box-pack: justify;\n      -webkit-justify-content: space-between;\n      -ms-flex-pack: justify;\n      justify-content: space-between;\n      -webkit-box-align: center;\n      -webkit-align-items: center;\n      -ms-flex-align: center;\n      align-items: center;\n      border-top: 1px solid #d8d8d8;\n\n      .gr-article-footer-date {\n        font-size: 10px;\n        line-height: 1em;\n      }\n\n      .gr-article-footer-link {\n        color: #000;\n        font-size: 12px;\n        text-decoration: none;\n      }\n    }\n  }\n\n</style>"],"sourceRoot":"src"}]}